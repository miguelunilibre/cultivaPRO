<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CultivaPro</title> <link rel="icon" type="image/x-icon" href="../img/logo.png">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/inicio.css">
    <link rel="stylesheet" href="../css/perfil.css">
    <link rel="stylesheet" href="../css/tienda.css">
    <link rel="stylesheet" href="../css/modal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="../css/planification.css">
    <link rel="stylesheet" href="../css/calendar.css">
    <link rel="stylesheet" href="../css/modal.css">
    <link rel="stylesheet" href="../css/cart.css">
    <link rel="stylesheet" href="../css/cultivos.css">

</head>
<body>
    <div class="app">
        <nav class="navbar">
            <div class="navbar-brand">
                <img src="../img/logo.png" alt="Logo" class="logo">
                <span class="brand-name">CultivaPro</span>
            </div>
            <div class="navbar-actions">
                <div class="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </div>
                <button id="logoutBtn" class="logout-btn" href="../index.html">
                    <img src="../img/cerrar-sesion.png" alt="Cerrar sesión" class="logout-icon">
                </button>
            </div>
        </nav>

        <div class="main-container">
            <aside class="sidebar">
                <nav class="sidebar-nav">
                    <a href="#home" class="nav-item active" data-page="home">
                        <img src="../img/inicio.png" alt="Inicio" class="nav-icon">
                        <span>Inicio</span>
                    </a>
                    <a href="#calendar" class="nav-item" data-page="calendar"> <img src="../img/calendario.png" alt="Calendario" class="nav-icon"> <span>Calendario</span> </a>
                    <a href="#crops" class="nav-item" data-page="crops">
                        <img src="../img/cultivos.png" alt="Cultivos" class="nav-icon">
                        <span>Cultivos</span>
                    </a>
                    <a href="#profile" class="nav-item" data-page="profile">
                        <img src="../img/perfil.png" alt="Perfil" class="nav-icon">
                        <span>Perfil</span>
                    </a>
                    <a href="#plan-sowing" class="nav-item" data-page="plan-sowing">
                        <img src="../img/planificar.png" alt="Planificar Siembra" class="nav-icon">
                        <span>Planificar Siembra</span>
                    </a>
                    <a href="#store" class="nav-item" data-page="store">
                        <img src="../img/tienda.png" alt="Tienda" class="nav-icon">
                        <span>Tienda</span>
                    </a>
                </nav>
            </aside>

            <main id="mainContent" class="main-content">
                <!-- El contenido dinámico se cargará aquí -->
                <section id="homeContent">
                    <h1>Bienvenido a CultivaPro</h1>
                    <p>CultivaPro es tu aliado para gestionar tus cultivos de manera eficiente y efectiva. ¡Comienza a planificar tus siembras y cosechas hoy mismo!</p>

                    <div class="features">
                        <div class="feature-item">
                            <img src="../img/gestion-de-proyectos.png" alt="Gestión Fácil" class="feature-image" >
                            <h3>Gestión Fácil</h3>
                            <p>Organiza tus cultivos y tareas agrícolas de forma sencilla con herramientas intuitivas.</p>
                        </div>
                        <div class="feature-item">
                            <img src="../img/dos.png" alt="Calendario Organizado" class="feature-image">
                            <h3>Calendario Organizado</h3>
                            <p>Consulta fechas importantes de siembra y cosecha en un calendario interactivo.</p>
                        </div>
                        <div class="feature-item">
                            <img src="../img/tres.png" alt="Análisis de Datos" class="feature-image">
                            <h3>Análisis de Datos</h3>
                            <p>Obtén información clave sobre el rendimiento de tus cultivos.</p>
                        </div>
                    </div>
                    <div class="cta-section">
                        <h2>¡Comienza Ahora!</h2>
                        <p>Planifica tu próxima siembra y cosecha de manera eficiente. ¡Explora las herramientas de CultivaPro y lleva tu agricultura al siguiente nivel!</p>
                        <button class="cta-button">Planificar Siembra</button>
                    </div>
                </section>
                
                <section id="calendarContent" class="hidden">
                    <h2>Calendario de Eventos</h2>
                    <div id="calendar"></div>
                </section>

                <section id="profileContent" class="hidden">
                    <h2>Mi Perfil</h2>
                    <div class="profile-container">
                        <form id="profileForm">
                            <div class="form-group">
                                <label for="nombre">Nombre:</label>
                                <input type="text" id="nombre" name="nombre" required>
                            </div>
                            <div class="form-group">
                                <label for="apellido">Apellido:</label>
                                <input type="text" id="apellido" name="apellido" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Correo electrónico:</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="telefono">Teléfono:</label>
                                <input type="tel" id="telefono" name="telefono">
                            </div>
                            <div class="form-group">
                                <label for="finca">Nombre de la Finca:</label>
                                <input type="text" id="finca" name="finca">
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="save-btn">Guardar Cambios</button>
                            </div>
                        </form>
                    </div>
                </section>
                
                <section id="plan-sowingContent" class="hidden">
                    <h2>Planificación de Siembra</h2>
                    <form id="planSowingForm" class="plan-sowing-form">
                        <div class="form-group">
                            <label for="cultivo">Cultivo:</label>
                            <select id="cultivo" name="cultivo" required>
                                <option value="">Seleccione un cultivo</option>
                                <optgroup label="Cereales">
                                    <option value="arroz">Arroz</option>
                                    <option value="maiz">Maíz</option>
                                    <option value="sorgo">Sorgo</option>
                                    <option value="trigo">Trigo</option>
                                    <option value="cebada">Cebada</option>
                                    <option value="avena">Avena</option>
                                    <option value="quinua">Quinua</option>
                                    <option value="mijo">Mijo</option>
                                </optgroup>
                                <optgroup label="Leguminosas">
                                    <option value="frijol">Frijol</option>
                                    <option value="arveja">Arveja</option>
                                    <option value="soya">Soya</option>
                                    <option value="garbanzo">Garbanzo</option>
                                    <option value="habichuela">Habichuela</option>
                                    <option value="lenteja">Lenteja</option>
                                    <option value="mani">Maní</option>
                                    <option value="frijol_caupi">Frijol Caupí</option>
                                </optgroup>
                                <optgroup label="Tubérculos y Raíces">
                                    <option value="papa">Papa</option>
                                    <option value="yuca">Yuca</option>
                                    <option value="batata">Batata</option>
                                    <option value="name">Ñame</option>
                                    <option value="arracacha">Arracacha</option>
                                    <option value="papa_criolla">Papa Criolla</option>
                                    <option value="yacon">Yacón</option>
                                    <option value="malanga">Malanga</option>
                                </optgroup>
                                <optgroup label="Hortalizas">
                                    <option value="tomate">Tomate</option>
                                    <option value="cebolla">Cebolla</option>
                                    <option value="zanahoria">Zanahoria</option>
                                    <option value="pimenton">Pimentón</option>
                                    <option value="lechuga">Lechuga</option>
                                    <option value="repollo">Repollo</option>
                                    <option value="brocoli">Brócoli</option>
                                    <option value="coliflor">Coliflor</option>
                                    <option value="espinaca">Espinaca</option>
                                    <option value="pepino">Pepino</option>
                                    <option value="ahuyama">Ahuyama</option>
                                    <option value="calabacin">Calabacín</option>
                                    <option value="rabano">Rábano</option>
                                    <option value="remolacha">Remolacha</option>
                                    <option value="acelga">Acelga</option>
                                    <option value="apio">Apio</option>
                                    <option value="cilantro">Cilantro</option>
                                    <option value="perejil">Perejil</option>
                                </optgroup>
                                <optgroup label="Frutas Tropicales">
                                    <option value="platano">Plátano</option>
                                    <option value="banano">Banano</option>
                                    <option value="aguacate">Aguacate</option>
                                    <option value="mango">Mango</option>
                                    <option value="papaya">Papaya</option>
                                    <option value="guayaba">Guayaba</option>
                                    <option value="maracuya">Maracuyá</option>
                                    <option value="granadilla">Granadilla</option>
                                    <option value="lulo">Lulo</option>
                                    <option value="mora">Mora</option>
                                    <option value="uchuva">Uchuva</option>
                                    <option value="pitaya">Pitaya</option>
                                    <option value="guanabana">Guanábana</option>
                                    <option value="anon">Anón</option>
                                    <option value="borojo">Borojó</option>
                                </optgroup>
                                <optgroup label="Cítricos">
                                    <option value="naranja">Naranja</option>
                                    <option value="limon">Limón</option>
                                    <option value="mandarina">Mandarina</option>
                                    <option value="lima">Lima</option>
                                    <option value="toronja">Toronja</option>
                                </optgroup>
                                <optgroup label="Cultivos Industriales">
                                    <option value="cafe">Café</option>
                                    <option value="cacao">Cacao</option>
                                    <option value="cana">Caña de Azúcar</option>
                                    <option value="palma_aceite">Palma de Aceite</option>
                                    <option value="caucho">Caucho</option>
                                    <option value="algodon">Algodón</option>
                                    <option value="tabaco">Tabaco</option>
                                    <option value="stevia">Stevia</option>
                                </optgroup>
                                <optgroup label="Aromáticas y Medicinales">
                                    <option value="albahaca">Albahaca</option>
                                    <option value="manzanilla">Manzanilla</option>
                                    <option value="menta">Menta</option>
                                    <option value="oregano">Orégano</option>
                                    <option value="tomillo">Tomillo</option>
                                    <option value="romero">Romero</option>
                                    <option value="calendula">Caléndula</option>
                                    <option value="hierbabuena">Hierbabuena</option>
                                    <option value="ruda">Ruda</option>
                                </optgroup>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="terreno">Tipo de Terreno:</label>
                            <select id="terreno" name="terreno" required>
                                <option value="">Seleccione tipo de terreno</option>
                                <optgroup label="Suelos Minerales">
                                    <option value="arcilloso">Arcilloso</option>
                                    <option value="arenoso">Arenoso</option>
                                    <option value="limoso">Limoso</option>
                                    <option value="franco">Franco (Mixto)</option>
                                    <option value="franco_arcilloso">Franco Arcilloso</option>
                                    <option value="franco_arenoso">Franco Arenoso</option>
                                    <option value="franco_limoso">Franco Limoso</option>
                                </optgroup>
                                <optgroup label="Suelos Orgánicos">
                                    <option value="turboso">Turboso (Rico en materia orgánica)</option>
                                    <option value="humifero">Humífero (Alto contenido de humus)</option>
                                </optgroup>
                                <optgroup label="Suelos por Región">
                                    <option value="andisol">Andisol (Suelos volcánicos)</option>
                                    <option value="vertisol">Vertisol (Suelos arcillosos profundos)</option>
                                    <option value="oxisol">Oxisol (Suelos tropicales muy meteorizados)</option>
                                    <option value="inceptisol">Inceptisol (Suelos jóvenes poco desarrollados)</option>
                                </optgroup>
                                <optgroup label="Características Especiales">
                                    <option value="aluvial">Aluvial (Depósitos de río)</option>
                                    <option value="calcareo">Calcáreo (Rico en carbonato de calcio)</option>
                                    <option value="salino">Salino (Alto contenido de sales)</option>
                                    <option value="pedregoso">Pedregoso (Con abundantes piedras)</option>
                                </optgroup>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="fechaSiembra">Fecha de Siembra:</label>
                            <input type="date" id="fechaSiembra" name="fechaSiembra" required>
                        </div>
                        <div class="form-group">
                            <label for="area">Área de Siembra (m²):</label>
                            <input type="number" id="area" name="area" min="1" required>
                        </div>
                        <div class="form-group">
                            <label for="riego">Sistema de Riego:</label>
                            <select id="riego" name="riego" required>
                                <option value="">Seleccione sistema de riego</option>
                                <option value="goteo">Goteo</option>
                                <option value="aspersion">Aspersión</option>
                                <option value="manual">Manual</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="notas">Notas Adicionales:</label>
                            <textarea id="notas" name="notas" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="diasCosecha">Días hasta la cosecha:</label>
                            <input type="number" id="diasCosecha" name="diasCosecha" min="1" required>
                        </div>
                        <div id="consejoSiembra" class="consejo-box hidden">
                            <!-- Aquí se mostrará el consejo -->
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="save-btn">Planificar Siembra</button>
                        </div>
                    </form>

                    <div class="planifications-history">
                        <h3>Historial de Planificaciones</h3>
                        <div class="planifications-grid">
                            <!-- Las planificaciones se cargarán dinámicamente aquí -->
                        </div>
                    </div>
                </section>
                <section id="cropsContent" class="hidden">
                    <h2>Gestión de Cultivos</h2>
                    <div class="crops-container">
                        <div class="crops-actions">
                            <button id="addCropBtn" class="btn btn-primary">
                                <i class="fas fa-plus"></i> Nuevo Cultivo
                            </button>
                        </div>

                        <div class="crops-grid">
                            <!-- Los cultivos se cargarán dinámicamente aquí -->
                        </div>

                        <!-- Modal para agregar/editar cultivo -->
                        <div id="cropModal" class="modal hidden">
                            <div class="modal-content">
                                <h3>Agregar Nuevo Cultivo</h3>
                                <form id="cropForm">
                                    <div class="form-group">
                                        <label for="cropName">Nombre del Cultivo:</label>
                                        <input type="text" id="cropName" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="cropType">Tipo:</label>
                                        <select id="cropType" required>
                                            <option value="">Seleccione tipo de cultivo</option>
                                            <optgroup label="Cultivos Básicos">
                                                <option value="hortaliza">Hortaliza</option>
                                                <option value="cereal">Cereal</option>
                                                <option value="fruta">Fruta</option>
                                                <option value="legumbre">Legumbre</option>
                                            </optgroup>
                                            <optgroup label="Cultivos Especializados">
                                                <option value="tuberculo">Tubérculo</option>
                                                <option value="citrico">Cítrico</option>
                                                <option value="aromatica">Aromática</option>
                                                <option value="medicinal">Medicinal</option>
                                                <option value="oleaginosa">Oleaginosa</option>
                                            </optgroup>
                                            <optgroup label="Cultivos Industriales">
                                                <option value="fibra">Fibra (Algodón, Lino)</option>
                                                <option value="estimulante">Estimulante (Café, Cacao)</option>
                                                <option value="azucarero">Azucarero (Caña, Remolacha)</option>
                                                <option value="biocombustible">Biocombustible (Palma)</option>
                                            </optgroup>
                                            <optgroup label="Cultivos de Forraje">
                                                <option value="pasto">Pasto</option>
                                                <option value="forraje_leguminosa">Forraje Leguminosa</option>
                                                <option value="forraje_cereal">Forraje Cereal</option>
                                            </optgroup>
                                            <optgroup label="Otros Cultivos">
                                                <option value="ornamental">Ornamental</option>
                                                <option value="condimento">Condimento/Especia</option>
                                                <option value="hongos">Hongos Comestibles</option>
                                                <option value="cultivo_protegido">Cultivo Protegido</option>
                                            </optgroup>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="growthCycle">Ciclo de Crecimiento (días):</label>
                                        <input type="number" id="growthCycle" min="1" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="waterNeeds">Necesidades de Agua:</label>
                                        <select id="waterNeeds" required>
                                            <option value="bajo">Bajo</option>
                                            <option value="medio">Medio</option>
                                            <option value="alto">Alto</option>
                                        </select>
                                    </div>
                                    <div class="form-actions">
                                        <button type="button" id="cancelCropBtn" class="btn btn-secondary">Cancelar</button>
                                        <button type="submit" class="btn btn-primary">Guardar</button>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <!-- Modal para agregar eventos a cultivos -->
                        <div id="eventModal" class="modal hidden">
                            <div class="modal-content">
                                <h3>Agregar Evento al Cultivo</h3>
                                <form id="eventForm">
                                    <input type="hidden" id="eventCropId">
                                    <div class="form-group">
                                        <label for="eventDate">Fecha del Evento:</label>
                                        <input type="date" id="eventDate" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="eventType">Tipo de Evento:</label>
                                        <select id="eventType" required>
                                            <option value="fertilizacion">Fertilización</option>
                                            <option value="riego">Riego</option>
                                            <option value="fumigacion">Fumigación</option>
                                            <option value="poda">Poda</option>
                                            <option value="control_plagas">Control de Plagas</option>
                                            <option value="otro">Otro</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="eventNotes">Notas:</label>
                                        <textarea id="eventNotes" rows="3" required></textarea>
                                    </div>
                                    <div class="form-actions">
                                        <button type="button" id="cancelEventBtn" class="btn btn-secondary">Cancelar</button>
                                        <button type="submit" class="btn btn-primary">Guardar</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="storeContent" class="hidden">
                    <h2>Tienda de Productos Agrícolas</h2>
                    <div class="store-container">
                        <!-- Los productos se cargarán dinámicamente aquí -->
                    </div>
                </section>
            </main>
        </div>
    </div>

    <div class="cart-backdrop"></div>
    <div class="cart-modal">
        <div class="cart-header">
            <h3>Carrito de Compras</h3>
            <i class="fas fa-times close-cart"></i>
        </div>
        <div class="cart-empty-message" style="display: none;">
            <i class="fas fa-shopping-basket"></i>
            <p>Tu carrito está vacío</p>
            <p class="cart-empty-subtitle">¡Agrega algunos productos!</p>
        </div>
        <div class="cart-items">
            <!-- Items del carrito se agregarán dinámicamente -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span>$0.00</span>
            </div>
            <button class="checkout-btn">Proceder al Pago</button>
        </div>
    </div>

    <div class="payment-modal hidden">
        <div class="payment-content">
            <div class="payment-header">
                <h2>Finalizar Compra</h2>
                <button class="close-payment">&times;</button>
            </div>
            <div class="payment-body">
                <!-- Resumen de la compra -->
                <div class="order-summary">
                    <h3>Resumen del Pedido</h3>
                    <div class="order-items">
                        <!-- Los items se cargarán dinámicamente aquí -->
                    </div>
                    <div class="order-total">
                        <div class="items-list">
                            <!-- Aquí se mostrarán los productos -->
                        </div>
                        <div class="total">
                            <span>Total a Pagar:</span>
                            <span class="total-amount">$0.00</span>
                        </div>
                    </div>
                </div>

                <!-- Métodos de pago -->
                <div class="payment-methods">
                    <h3>Método de Pago</h3>
                    <div class="payment-options">
                        <label class="payment-option">
                            <input type="radio" name="paymentMethod" value="card" checked>
                            <span class="option-content">
                                <i class="fas fa-credit-card"></i>
                                Tarjeta de Crédito/Débito
                            </span>
                        </label>
                        <label class="payment-option">
                            <input type="radio" name="paymentMethod" value="pse">
                            <span class="option-content">
                                <i class="fas fa-university"></i>
                                PSE
                            </span>
                        </label>
                        <label class="payment-option">
                            <input type="radio" name="paymentMethod" value="nequi">
                            <span class="option-content">
                                <i class="fas fa-mobile-alt"></i>
                                Nequi
                            </span>
                        </label>
                    </div>

                    <!-- Formulario de tarjeta de crédito -->
                    <form id="paymentForm" class="payment-form">
                        <!-- Contenedor para Tarjeta de Crédito -->
                        <div id="cardForm" class="payment-method-form">
                            <div class="form-group card-number">
                                <label for="cardNumber">Número de Tarjeta</label>
                                <div class="card-input-wrapper">
                                    <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19" required>
                                    <div class="card-icons">
                                        <i class="fab fa-cc-visa"></i>
                                        <i class="fab fa-cc-mastercard"></i>
                                        <i class="fab fa-cc-amex"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="cardName">Nombre en la Tarjeta</label>
                                    <input type="text" id="cardName" placeholder="NOMBRE APELLIDO" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="expiryDate">Fecha de Vencimiento</label>
                                    <input type="text" id="expiryDate" placeholder="MM/AA" maxlength="5" required>
                                </div>
                                <div class="form-group">
                                    <label for="cvv">CVV</label>
                                    <input type="text" id="cvv" placeholder="123" maxlength="4" required>
                                    <i class="fas fa-question-circle cvv-help" title="El código de seguridad se encuentra en el reverso de tu tarjeta"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Contenedor para PSE -->
                        <div id="pseForm" class="payment-method-form hidden">
                            <div class="form-group">
                                <label for="bankSelect">Seleccione su banco</label>
                                <select id="bankSelect" required>
                                    <option value="">Seleccione un banco</option>
                                    <option value="bancolombia">Bancolombia</option>
                                    <option value="davivienda">Davivienda</option>
                                    <option value="bbva">BBVA</option>
                                    <option value="bogota">Banco de Bogotá</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="documentType">Tipo de documento</label>
                                <select id="documentType" required>
                                    <option value="">Seleccione tipo de documento</option>
                                    <option value="cc">Cédula de Ciudadanía</option>
                                    <option value="ce">Cédula de Extranjería</option>
                                    <option value="nit">NIT</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="documentNumber">Número de documento</label>
                                <input type="text" id="documentNumber" required>
                            </div>
                        </div>

                        <!-- Contenedor para Nequi -->
                        <div id="nequiForm" class="payment-method-form hidden">
                            <div class="form-group">
                                <label for="phoneNumber">Número de celular Nequi</label>
                                <input type="tel" id="phoneNumber" placeholder="300 123 4567" required>
                            </div>
                        </div>

                        <!-- Dirección de facturación común para todos -->
                        <div class="billing-address">
                            <h4>Dirección de Facturación</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="billingAddress">Dirección</label>
                                    <input type="text" id="billingAddress" required>
                                </div>
                                <div class="form-group">
                                    <label for="billingCity">Ciudad</label>
                                    <input type="text" id="billingCity" required>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="payment-submit-btn">
                            <i class="fas fa-lock"></i>
                            Pagar <span class="total-amount">$0.00</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js"></script>
    <script src="../js/main.js"></script>
</body>
</html>